--extra-index-url https://aiinfra.pkgs.visualstudio.com/PublicPackages/_packaging/onnxruntime-cuda-12/pypi/simple/

# === Core server ===
fastapi==0.109.2
uvicorn[standard]==0.27.1
python-multipart==0.0.9

# === Image processing ===
opencv-python-headless==4.9.0.80
numpy==1.26.4
Pillow>=10.0.0
PyTurboJPEG>=1.7.1  # 3-5x faster JPEG encode/decode via libturbojpeg

# === Face detection + recognition (ArcFace / RetinaFace) ===
# NOTE: insightface pulls in CPU onnxruntime as dependency.
# We install it with --no-deps, then install onnxruntime-gpu separately.
insightface==0.7.3

# === GPU inference (MUST be after insightface to overwrite CPU onnxruntime) ===
# Uninstall CPU version first during setup:  pip uninstall onnxruntime -y
# v1.20.1 supports CUDA 12.8 + cuDNN 9 (RunPod default)
onnxruntime-gpu==1.20.1

# === Audio processing (lip sync) ===
librosa>=0.10.0
soundfile>=0.12.0   # required by librosa for audio I/O

# === Face enhancement ===
gfpgan>=1.3.8
basicsr>=1.4.2
realesrgan>=0.3.0

# === insightface dependencies (explicit, needed if using --no-deps) ===
scikit-image>=0.19.0
scikit-learn>=1.0
onnx>=1.14.0
albumentations>=1.0
prettytable>=3.0
tqdm>=4.0
Cython>=0.29
